pico-8 cartridge // http://www.pico-8.com
version 16
__lua__


function _init()
 particleadd(64,0)
end

function _update()
 foreach(particles, particleupdate)
end

function _draw()
 cls()
 foreach(particles, particledraw) 
end
-->8
particles={}

function particleadd(x,y)
 p={}
 p.x=x
 p.y=y
 p.sprinit=1
 p.spr=p.sprinit
 p.sprmax=2
 p.frametime=0
 p.frametimemax=10
 add(particles,p)
end

function particleupdate(p)
 p.frametime+=1
 if (p.frametime > p.frametimemax) then
  p.frametime=0
  p.spr+=1
  if (p.spr > p.sprmax) then p.spr=p.sprinit end
 end
 p.y+=0.25+rnd(0.75)
 p.x+=rnd(1)-0.5
end

function particledraw(p)
 spr(p.spr,p.x,p.y)
end
__gfx__
00000000000660000006600000066000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000060770600607706000077000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700006776000067760000677600000770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000677677760776777000767700000670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000677767760777677000776700000760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700006776000067760000677600000770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000060770600607706000077000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000660000006600000066000000060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
